<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slot Machine Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        .slot-machine {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .reel {
            width: 100px;
            height: 100px;
            border: 2px solid #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            background: #f5f5f5;
            margin: 5px;
        }
        .controls {
            margin: 20px;
        }
        .message {
            font-size: 20px;
            margin-top: 10px;
        }
        #balanceDisplay {
            font-size: 24px;
            margin-top: 10px;
        }
        button {
            padding: 10px 20px;
            font-size: 18px;
        }
        #leaderboard {
            margin-top: 30px;
        }
        .leaderboard-title {
            font-size: 24px;
            font-weight: bold;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Slot Machine Game</h1>

    <div class="slot-machine">
        <div class="reel" id="reel1">üçí</div>
        <div class="reel" id="reel2">üçç</div>
        <div class="reel" id="reel3">üçâ</div>
        <div class="reel" id="reel4">BAR</div>
        <div class="reel" id="reel5">7</div>
    </div>

    <div class="controls">
        <label for="betAmount">Bet Amount: $</label>
        <input type="number" id="betAmount" value="1" min="1">
        <button onclick="spin()">Spin</button>
    </div>

    <p id="balanceDisplay">Balance: $100</p>
    <p id="winMessage" class="message hidden"></p>

    <div id="leaderboard">
        <p class="leaderboard-title">Leaderboard</p>
        <ul id="leaderboardList"></ul>
    </div>

    <audio id="winSound" src="win-sound.mp3"></audio>
    <audio id="loseSound" src="lose-sound.mp3"></audio>

    <script>
        const symbols = ['üçí', 'üçç', 'üçâ', 'BAR', '7'];
        let balance = 100;
        let leaderboard = [];

        function spin() {
            const betAmount = parseInt(document.getElementById('betAmount').value);
            if (betAmount > balance || betAmount <= 0) {
                alert('Invalid bet amount.');
                return;
            }

            // Disable spin button during animation
            document.querySelector('button').disabled = true;

            const reels = [];
            for (let i = 1; i <= 5; i++) {
                reels.push(document.getElementById(`reel${i}`));
            }

            const spinTimes = [1000, 1200, 1400, 1600, 1800]; // Different spin times for realism
            const results = [];

            reels.forEach((reel, index) => {
                setTimeout(() => {
                    const result = symbols[Math.floor(Math.random() * symbols.length)];
                    results.push(result);
                    reel.innerText = result;
                    if (results.length === 5) {
                        handleResults(results, betAmount);
                    }
                }, spinTimes[index]);
            });
        }

        function handleResults(results, betAmount) {
            const winnings = calculateWinnings(results, betAmount);

            if (winnings > 0) {
                balance += winnings;
                document.getElementById('winMessage').innerText = `You win $${winnings}!`;
                document.getElementById('winMessage').classList.remove('hidden');
                setTimeout(() => {
                    document.getElementById('winMessage').classList.add('hidden');
                }, 3000);
                document.getElementById('winSound').play();
            } else {
                balance -= betAmount;
                document.getElementById('winMessage').innerText = 'You lose!';
                document.getElementById('winMessage').classList.remove('hidden');
                setTimeout(() => {
                    document.getElementById('winMessage').classList.add('hidden');
                }, 3000);
                document.getElementById('loseSound').play();
            }

            // Update balance display
            document.getElementById('balanceDisplay').innerText = `Balance: $${balance}`;
            
            // Update leaderboard if balance is high
            updateLeaderboard(balance);

            // Re-enable spin button
            document.querySelector('button').disabled = false;
        }

        function calculateWinnings(results, betAmount) {
            const winningKey = Math.floor(Math.random() * 5); // Random key to keep things dynamic
            const winConditions = {
                'üçí': 5,
                'üçç': 10,
                'üçâ': 15,
                'BAR': 20,
                '7': 50
            };

            let totalWinnings = results.filter(result => result === symbols[winningKey]).length * winConditions[symbols[winningKey]] * betAmount;

            return totalWinnings > 0 ? totalWinnings : 0;
        }

        function updateLeaderboard(currentBalance) {
            leaderboard.push(currentBalance);
            leaderboard.sort((a, b) => b - a);
            const leaderboardList = document.getElementById('leaderboardList');
            leaderboardList.innerHTML = ''; // Clear the list

            leaderboard.slice(0, 5).forEach((score, index) => {
                const listItem = document.createElement('li');
                listItem.innerText = `#${index + 1}: $${score}`;
                leaderboardList.appendChild(listItem);
            });
        }
    </script>
</body>
</html>
